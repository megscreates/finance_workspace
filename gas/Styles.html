<style>
/* Theme tokens */
:root{
  --bg:#f6f6fb; --card:#ffffff; --surface:#ffffff; --text:#1f2346; --muted:#7c7f9b;
  --primary:#6f5cff; --primary-600:#5b47ff; --primary-200:#e7e4ff;
  --accent-a:#6f5cff; --accent-b:#5cc2ff; --accent-c:#ffa657;
  --ring:rgba(111,92,255,0.35);
  --shadow:0 10px 30px rgba(31,35,70,.06), 0 2px 8px rgba(31,35,70,.05);
  /* Theme Studio tokens */
  --outline:#1f2346; --line:2px; --radius:12px; --icon-stroke:2; --shadow-offset:6px; --outline-style:solid;
  --font-body: Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial; --font-heading: var(--font-body); --font-scale:1;
  --sidebar-bg:#ffffff; --brand-text-color:#1f2346; --brand-gradient:none; --headline-gradient: linear-gradient(90deg,var(--primary),#64d2ff);
  --icon-cap:round; --icon-join:round; --card-fill:#ffffff;
}
.theme-sunset{ --primary:#ff5cff; --primary-600:#ff47d8; --primary-200:#ffe3fb; --accent-a:#ff5cff; --accent-b:#79e0ff; --accent-c:#ffb677; --ring:rgba(255,92,255,0.35); --bg:linear-gradient(135deg,#f7f2ff 0%,#fff6f6 50%,#f1fffd 100%); }

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:var(--font-body); font-size:calc(16px * var(--font-scale)); color:var(--text);background:var(--bg)}

/* A11y */
.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

/* Header */
.app-header{position:sticky;top:0;z-index:5;background:var(--surface);box-shadow:var(--shadow);display:flex;align-items:center;justify-content:space-between;padding:14px 18px}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{width:40px;height:40px;border-radius:12px;background:linear-gradient(145deg,var(--primary),#a9a2ff);display:grid;place-items:center;color:#fff;font-weight:800}
.brand .titles h1{font-size:18px;line-height:1;margin:0; background:var(--brand-gradient); -webkit-background-clip:text; background-clip:text; color:var(--brand-text-color)}
.brand .subtitle{margin:4px 0 0;color:var(--muted);font-size:12px}
.header-actions{display:flex;align-items:center;gap:10px}
.header-actions form{display:flex;gap:8px;align-items:center}
.header-actions input{border:1px solid #e7e7f3;border-radius:12px;padding:10px 12px;width:320px;outline:none}
.header-actions input:focus{box-shadow:0 0 0 4px var(--ring);border-color:transparent}
.btn-primary{background:var(--primary);color:#fff;border:none;border-radius:10px;padding:10px 12px;font-weight:600;cursor:pointer}
.btn-tonal{background:#f3f2ff;border:1px solid #ecebff;color:#4a3ef0;border-radius:10px;padding:10px 12px;display:inline-flex;align-items:center;gap:8px;cursor:pointer}
.theme-trigger .swatch{width:14px;height:14px;border-radius:4px;background:var(--primary)}

/* Workspace */
.workspace{display:grid;grid-template-columns:220px 1fr;min-height:calc(100vh - 68px)}
.subnav[aria-label="Main Sections"]{background:var(--sidebar-bg);padding:16px;box-shadow:var(--shadow)}
.subnav .tab{display:block;width:100%;text-align:left;border:none;background:transparent;padding:10px 12px;border-radius:10px;color:var(--text);cursor:pointer}
.subnav .tab:hover{background:var(--primary-200)}
.subnav .tab.active{background:var(--primary);color:#fff}
.content{padding:18px}
.tabs{display:flex;gap:8px;margin-bottom:8px}
.content-body{animation:fade .25s ease-out}
@keyframes fade{from{opacity:.7; transform:translateY(2px)}to{opacity:1; transform:translateY(0)}}

/* Sections & badges */
.section{background:transparent}
.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.section-header .row{display:flex;gap:6px}
.badge{background:#f2f2ff;color:#4a3ef0;border:1px solid #e6e4ff;padding:4px 8px;border-radius:999px;font-weight:600;font-size:12px}
.badge[data-tint="a"]{background:rgba(111,92,255,.12);color:#4a3ef0;border-color:rgba(111,92,255,.25)}

/* KPI cards */
.kpi-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:16px}
.kpi{background:var(--card-fill);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;border:var(--line) var(--outline-style) var(--outline)}
.kpi-label{color:var(--muted);font-size:12px}
.kpi-value{font-size:22px;font-weight:800;margin:6px 0}
.kpi-trend{font-size:12px;margin-bottom:8px}
.kpi-trend.up{color:#1f9d6b}
.kpi-trend.down{color:#cc3a3a}
.progress{background:#f1f1fb;height:8px;border-radius:999px;overflow:hidden}
.progress span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent-a),#9a87ff)}

/* Widgets */
.widget-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.widget{background:var(--card-fill);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;display:flex;flex-direction:column;border:var(--line) var(--outline-style) var(--outline)}
.widget.span-2{grid-column:span 2}
.widget-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.widget-title{margin:0;font-size:16px}
.widget-actions{display:flex;gap:8px;align-items:center}
.chip{display:inline-flex;align-items:center;gap:6px;padding:6px 8px;border-radius:999px;background:#f6f6fb;color:var(--muted);font-size:12px}
.dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.dot.a{background:var(--accent-a)}
.dot.b{background:var(--accent-b)}
.dot.c{background:var(--accent-c)}

/* Table + statuses reused from previous */
.table-wrap{overflow:auto}
.table{width:100%;border-collapse:separate;border-spacing:0 8px}
.table th{font-size:12px;text-align:left;color:var(--muted);padding:8px 10px}
.table td{background:#fff;padding:12px 10px}
.table tbody tr{box-shadow:var(--shadow)}
.status{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:600}
.status.new{background:#f0e9ff;color:#5a3fff}
.status.delivery{background:#e6fff3;color:#1f9d6b}
.status.pending{background:#ffeaea;color:#cc3a3a}
.link{color:var(--primary);font-weight:600;text-decoration:none}

/* Responsive */
@media (max-width:1200px){.kpi-grid{grid-template-columns:repeat(2,1fr)}.widget-grid{grid-template-columns:1fr}.widget.span-2{grid-column:auto}}
@media (max-width:840px){.workspace{grid-template-columns:84px 1fr}.brand .subtitle{display:none}.header-actions input{width:220px}}

/* Theme Studio styles */
.studio-overlay{position:fixed; inset:0; display:none; background:rgba(0,0,0,.2); z-index:50}
.studio-overlay[aria-hidden="false"]{display:block}
.studio-panel{position:absolute; right:0; top:0; bottom:0; width:380px; background:#fff; border-left:var(--line) solid var(--outline); box-shadow:var(--shadow-offset) 0 0 rgba(18,19,26,.25); padding:14px; overflow:auto}
.studio-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:6px}
.studio-nav{position:sticky; top:0; background:#fff; padding:8px 0; display:flex; flex-wrap:wrap; gap:8px; border-bottom:var(--line) solid var(--outline); margin-bottom:8px; z-index:1}
.studio-nav a{padding:6px 10px; border:var(--line) solid var(--outline); border-radius:999px; text-decoration:none; color:inherit; background:#f6f6fb}
.studio-section{margin:10px 0; border:var(--line) solid var(--outline); border-radius:12px; overflow:hidden}
.studio-section[open]{background:#fff}
.studio-section summary{list-style:none; cursor:pointer; padding:10px 12px; font-weight:700; display:flex; align-items:center; justify-content:space-between}
.studio-section summary::-webkit-details-marker{display:none}
.studio-section summary:after{content:'â–¾'; font-size:12px}
.studio-section[open] summary:after{transform:rotate(180deg)}
.studio-grid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.studio-grid .span-2{grid-column:span 2}
.studio-grid label{display:flex; flex-direction:column; gap:6px; font-size:12px; color:#3f3f56}
.studio-grid input[type="color"]{width:100%; height:36px; border:var(--line) solid var(--outline); border-radius:8px}
.studio-grid input[type="range"], .studio-grid input[type="number"], .studio-grid select, .studio-grid input[type="text"]{padding:8px; border:var(--line) solid var(--outline); border-radius:8px}
.bg-preview{height:60px; border:var(--line) solid var(--outline); border-radius:10px}
.btn{padding:10px 12px; border:var(--line) solid var(--outline); border-radius:10px; background:#fff; box-shadow:calc(var(--shadow-offset)/2) calc(var(--shadow-offset)/2) 0 rgba(18,19,26,.15); cursor:pointer}
.btn.save{background:#ece5ff}
.btn.reset{background:#ffe8e8}
.preset-list{display:flex; flex-direction:column; gap:8px}
.preset-list .preset{display:flex; align-items:center; justify-content:space-between; border:var(--line) solid var(--outline); border-radius:10px; padding:8px}
.preset .sw{width:24px;height:24px;border-radius:6px;border:var(--line) solid var(--outline);margin-right:8px}

/* tints */
#sec-palettes summary{background:#f4f1ff} #sec-palettes[open] .studio-grid{background:#fbfaff}
#sec-colors summary{background:#f6f2ff}  #sec-colors[open] .studio-grid{background:#fcfbff}
#sec-bg summary{background:#eef7ff}      #sec-bg[open] .studio-grid{background:#f6fbff}
#sec-sidebar summary{background:#f7f4ff} #sec-sidebar[open] .studio-grid{background:#fdfbff}
#sec-typography summary{background:#f1fff6} #sec-typography[open] .studio-grid{background:#f8fffb}
#sec-strokes summary{background:#fff7f0} #sec-strokes[open] .studio-grid{background:#fffbf6}
#sec-cards summary{background:#fff4f8}   #sec-cards[open] .studio-grid{background:#fffbfd}
#sec-presets summary{background:#f3f3f5} #sec-presets[open] .studio-grid{background:#fafafa}
</style>
